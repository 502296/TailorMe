<!-- /public/asking-tailorme.html -->

<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="utf-8"/>

  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>Asking TailorMe – Smart Assistant</title>

  <link rel="stylesheet" href="css/main.css"/>

  <style>

    .chat{max-width:860px;margin:20px auto}

    .chat-log{border:1px solid rgba(212,175,55,.25);border-radius:12px;padding:12px;min-height:260px;background:rgba(255,255,255,.02)}

    .msg{padding:8px 10px;margin:8px 0;border-radius:10px}

    .me{background:#12224a}

    .bot{background:rgba(212,175,55,.12);border:1px solid rgba(212,175,55,.2)}

    .row{display:flex;gap:10px;margin-top:10px}

    .row input{flex:1;padding:12px;border-radius:10px;border:1px solid rgba(212,175,55,.3);background:#0f2147;color:#fff}

  </style>

</head>

<body>

  <nav class="nav">

    <div class="container nav-inner">

      <a href="index.html" class="logo"><img src="images/logo.svg" alt="TailorMe"/> <strong>TailorMe</strong></a>

      <div class="links">

        <a class="btn" href="price-list.html">Price List</a>

        <a class="btn" href="appointment.html">Book</a>

      </div>

    </div>

  </nav>



  <div class="container section chat">

    <h2>Asking TailorMe</h2>

    <div id="log" class="chat-log"></div>

    <div class="row">

      <input id="q" placeholder="Ask about alterations, fabrics, fit…"/>

      <button class="btn-gold" id="send">Ask</button>

    </div>

    <p class="notice">Tip: Keep it short (“How to shorten jacket sleeves?”).</p>

  </div>



  <script>

    const API_URL = "<ASKING_TAILORME_API_URL>"; // ✅ ضع رابط الBackend هنا

    const log = document.getElementById('log');

    const q = document.getElementById('q');

    document.getElementById('send').onclick = async () => {

      const text = q.value.trim();

      if(!text) return;

      append('me', text);

      q.value = '';

      try{

        const res = await fetch(API_URL, { method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify({question:text}) });

        const data = await res.json();

        append('bot', data.answer || 'No answer.');

      }catch(err){

        append('bot', 'Connection issue. Try again later.');

      }

    };

    function append(role, text){

      const div = document.createElement('div');

      div.className = 'msg ' + (role==='me' ? 'me':'bot');

      div.textContent = text;

      log.appendChild(div);

      log.scrollTop = log.scrollHeight;

    }

  </script>

</body>

</html>
