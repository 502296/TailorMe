<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8">

  <title>Book an Appointment ‚Äì TailorMe</title>

  <link rel="stylesheet" href="appointment.css">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body>

  <h1>üßµ Book an Appointment</h1>

  <form id="appointmentForm">

    

    <label for="name">Name:</label>

    <input type="text" id="name" name="name" required>



    <label for="phone">Phone:</label>

    <input type="tel" id="phone" name="phone" required>



    <label for="address">Address:</label>

    <input type="text" id="address" name="address" required>



    <label for="service">Service Type:</label>

    <select id="service" name="service" required>

      <option value="">Select</option>

      <option value="Alteration">Alteration</option>

      <option value="Custom Tailoring">Custom Tailoring</option>

    </select>



    <label for="pieces">Number of Pieces:</label>

    <input type="text" id="pieces" name="pieces" required>



    <label for="pickup_date">Pickup Date:</label>

    <input type="date" id="pickup_date" name="pickup_date" required>



    <label for="pickup_time">Pickup Time:</label>

    <input type="time" id="pickup_time" name="pickup_time" required>



    <label for="delivery_date">Delivery Date:</label>

    <input type="date" id="delivery_date" name="delivery_date" required>



    <label for="delivery_time">Delivery Time:</label>

    <input type="time" id="delivery_time" name="delivery_time" required>



    <label for="notes">Additional Notes (optional):</label>

    <textarea id="notes" name="notes" placeholder="e.g. Please call upon arrival."></textarea>



    <button type="submit">Submit</button>

    <a class="back-link" href="index.html">‚Üê Back to Home</a>



  </form>



  <script>

    const scriptURL = "https://script.google.com/macros/s/AKfycb3YkJB_08QZMK8_7UR1JRmfchZ35AQgz75iWjKSc2y6su6VahatAvHZFLCW5-4AsXw/exec";



    document.getElementById('appointmentForm').addEventListener('submit', function (e) {

      e.preventDefault();



      const form = e.target;

      const data = {

        name: form.name.value,

        phone: form.phone.value,

        address: form.address.value,

        service: form.service.value,

        pieces: form.pieces.value,

        pickup_date: form.pickup_date.value,

        pickup_time: form.pickup_time.value,

        delivery_date: form.delivery_date.value,

        delivery_time: form.delivery_time.value,

        notes: form.notes.value

      };



      fetch(scriptURL, {

        method: 'POST',

        body: JSON.stringify(data),

        headers: {

          'Content-Type': 'application/json'

        }

      })

      .then(response => {

        if (response.ok) {

          alert('‚úÖ Booking submitted successfully!');

          form.reset();

        } else {

          alert('‚ùå Error! Please try again.\nRequest failed.');

        }

      })

      .catch(error => {

        console.error('Error!', error.message);

        alert('‚ùå Error! Please try again.\nLoad failed');

      });

    });

  </script>

</body>

</html>
