<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>Book an Appointment – TailorMe</title>

  <link rel="stylesheet" href="appointment.css" />

</head>

<body>



  <div class="form-container">

    <h1>Book an Appointment</h1>

    <form id="appointmentForm">



      <label for="name">Full Name:</label>

      <input type="text" id="name" name="name" required />



      <label for="phone">Phone Number:</label>

      <input type="tel" id="phone" name="phone" required />



      <label for="address">Address:</label>

      <input type="text" id="address" name="address" required />



      <label for="service">Service Type:</label>

      <select id="service" name="service" required>

        <option value="">-- Select --</option>

        <option value="Alteration">Alteration</option>

        <option value="Custom Tailoring">Custom Tailoring</option>

      </select>



      <label for="pieces">Number of Pieces:</label>

      <input type="number" id="pieces" name="pieces" required />



      <label for="pickupDate">Pickup Date:</label>

      <input type="date" id="pickupDate" name="pickupDate" required />



      <label for="pickupTime">Pickup Time:</label>

      <input type="time" id="pickupTime" name="pickupTime" required />



      <label for="deliveryDate">Delivery Date:</label>

      <input type="date" id="deliveryDate" name="deliveryDate" required />



      <label for="deliveryTime">Delivery Time:</label>

      <input type="time" id="deliveryTime" name="deliveryTime" required />



      <label for="notes">Additional Notes:</label>

      <textarea id="notes" name="notes"></textarea>



      <button type="submit">Submit Booking</button>

    </form>



    <p id="statusMessage" style="margin-top:15px; font-weight:bold;"></p>

  </div>



  <script>

    const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbyk1V8RECksbFrHO4tPc8PzVCHXBK9tnx8X4dIJfdXboEK72nGkPGM83XoPsbNkjIG5tw/exec";



    document.getElementById("appointmentForm").addEventListener("submit", async function(e) {

      e.preventDefault();



      const form = e.target;

      const formData = {

        name: form.name.value,

        phone: form.phone.value,

        address: form.address.value,

        service: form.service.value,

        pieces: form.pieces.value,

        pickupDate: form.pickupDate.value,

        pickupTime: form.pickupTime.value,

        deliveryDate: form.deliveryDate.value,

        deliveryTime: form.deliveryTime.value,

        notes: form.notes.value

      };



      document.getElementById("statusMessage").innerText = "Sending booking...";



      try {

        const res = await fetch(WEB_APP_URL, {

          method: "POST",

          headers: { "Content-Type": "text/plain;charset=utf-8" },

          body: JSON.stringify(formData)

        });



        if (res.ok) {

          document.getElementById("statusMessage").innerText = "✅ Booking submitted successfully!";

          form.reset();

        } else {

          document.getElementById("statusMessage").innerText = "❌ Failed to send booking.";

        }

      } catch (error) {

        document.getElementById("statusMessage").innerText = "⚠️ Network error. Please try again.";

        console.error(error);

      }

    });

  </script>



</body>

</html>
